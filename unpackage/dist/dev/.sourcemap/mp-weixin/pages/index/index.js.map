{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"homelayout  pageBg\">\r\n\t\t<custom-nav-bar>推荐</custom-nav-bar>\r\n\t\t<view class=\"banner\">\r\n\t\t\t<swiper circular autoplay indicator-dots indicator-active-color=\"rgba(255,255,255)\" indicator-color=\"rgba(255,255,255,0.5)\">\r\n\t\t\t\t<swiper-item v-for=\"item in bannerUrls\" :key=\"item._id\">\r\n\t\t\t\t\t<image :src=\"item.picurl\" mode=\"widthFix\"></image>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"notice\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<uni-icons type=\"fire-filled\" color=\"$uni-color-error\" size=\"28\"></uni-icons>\r\n\t\t\t\t<text>公告</text>\r\n\r\n\t\t\t</view>\r\n\t\t\t<view class=\"center\">\r\n\t\t\t\t<swiper vertical circular autoplay>\r\n\t\t\t\t\t<swiper-item v-for=\"i in noticeList\" :key='i._id'>\r\n\t\t\t\t\t\t{{i.title}}\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<uni-icons type=\"right\" size=\"16\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"select\">\r\n\t\t\t<commonTitle>\r\n\t\t\t\t<template #name>\r\n\t\t\t\t\t每日推荐\r\n\t\t\t\t</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<view class=\"time\">\r\n\t\t\t\t\t\t<uni-icons type=\"calendar-filled\" size=\"30\"></uni-icons>\r\n\t\t\t\t\t\t<uni-dateformat :date=\"Date.now()\" format=\"dd\"></uni-dateformat>\r\n\t\t\t\t\t\t<i>号</i>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</commonTitle>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<scroll-view scroll-x >\r\n\t\t\t\t\t<view class=\"box\" v-for=\"i in dayRandomUrls\" @click=\"goPreview\" :key=\"i._id\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<image :src=\"i.smallPicurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"theme\">\r\n\t\t\t<commonTitle>\r\n\t\t\t\t<template #name>专题精选</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<navigator url=\"\" class=\"more\">More+</navigator>\r\n\t\t\t\t</template>\r\n\t\t\t</commonTitle>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<theme-item v-for=\"i in classifyList\" :key=\"i._id\" :item='i'></theme-item>\r\n\t\t\t\t<theme-item :isMore=\"true\"></theme-item>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport {apiGetBanner, apiGetDayRandom, apiGetNoticeList,apiGetClassify} from '@/api/apis.js'\r\nimport {onShareAppMessage} from '@dcloudio/uni-app'\r\nconst bannerUrls = ref([])\r\nconst dayRandomUrls = ref([])\r\nconst noticeList = ref([])\r\nconst classifyList = ref([])\r\n\r\nconst getBanner = async () => {\r\n  try {\r\n    let res = await apiGetBanner()\r\n\tbannerUrls.value = res.data;\r\n  } catch (err) {\r\n\t\tconsole.error('请求出错:', err);\r\n  }\r\n};\r\n\r\nconst getDayRandom = async () => {\r\n  try {\r\n    let res = await apiGetDayRandom()\r\n\tdayRandomUrls.value = res.data;\r\n  } catch (err) {\r\n\t\tconsole.error('请求出错:', err);\r\n  }\r\n};\r\n\r\nconst getNoticeList = async ()=>{\r\n\ttry {\r\n\t\tlet res = await apiGetNoticeList({select:true})\r\n\t\tnoticeList.value = res.data\r\n\t} catch (err) {\r\n\t\tconsole.error('请求出错:', err);\r\n\t}\r\n}\r\n\r\nconst getClassify = async ()=>{\r\n\ttry {\r\n\t\tlet res = await apiGetClassify({select:true})\r\n\t\tconsole.log(res)\r\n\t\tclassifyList.value = res.data\r\n\t} catch (err) {\r\n\t\tconsole.error('请求出错:', err);\r\n\t}\r\n}\r\n\r\nconst goPreview = ()=>{\r\n\tuni.navigateTo({\r\n\t\turl:'/pages/preview/preview'\r\n\t})\r\n}\r\n\r\n// #ifndef H5\r\nonShareAppMessage((e)=>{\r\n\treturn{\r\n\t\ttitle:'瞬间视觉',\r\n\t\tpath:'/pages/classify/classify'\r\n\t\t\r\n\t}\r\n})\r\n// #endif\r\n\r\n\r\ngetClassify()\r\ngetDayRandom()\r\ngetBanner()\r\ngetNoticeList()\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.homelayout{\r\n\t.banner{\r\n\t\twidth: 100%; \r\n\t\tpadding: 30rpx 0;\r\n\t\tswiper{\r\n\t\t\twidth: 100%; \r\n\t\t\theight: 340rpx;\r\n\t\t\tswiper-item{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tpadding: 0 30rpx;\r\n\t\t\t\timage{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 15rpx;\r\n\t\t\t\t\tobject-fit: cover; // 确保不变形\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.notice{\r\n\t\twidth: 690rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: rgba(230, 230, 230, 0.6);\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tline-height: 80rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\t.left{\r\n\t\t\twidth:140rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\ttext{\r\n\t\t\t\tcolor: $brand-theme-color;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.center{\r\n\t\t\tflex:1;\r\n\t\t\tswiper{\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tswiper-item{\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\toverflow: hidden; //当元素内容超出其指定的宽度或高度时，隐藏超出的部分（不显示滚动条）\r\n\t\t\t\t\twhite-space: nowrap; //强制文本在一行内显示，不进行自动换行。\r\n\t\t\t\t\ttext-overflow: ellipsis; //当文本超出容器宽度且被overflow: hidden隐藏时，在文本末尾显示省略号（...）\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t.right{\r\n\t\t\twidth: 70rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t}\r\n\t.select{\r\n\t\t\r\n\t\t.time{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t\t.content{\r\n\t\t\tpadding-top: 30rpx;\r\n\t\t\twidth: 690rpx;\r\n\t\t\tmargin: 0 auto; \r\n\t\t\t\r\n\t\t\tscroll-view{\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\r\n\t\t\t\t.box{\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\theight: 430rpx;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 15rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.box:last-child{\r\n\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.theme{\r\n\t\t.more{\r\n\t\t\tfont-size: 32rpx;\r\n\t\t}\r\n\t\t.content{\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\tpadding: 0 30rpx;\r\n\t\t\t\r\n\t\t\tdisplay: grid;\r\n\t\t\tgap: 15rpx;\r\n\t\t\tgrid-template-columns: repeat(3,1fr);\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/HBuilderX/HBuilderProjects/InstantWallpaper/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","apiGetBanner","uni","apiGetDayRandom","apiGetNoticeList","apiGetClassify","onShareAppMessage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA0EA,UAAA,aAAAA,cAAA,IAAA,EAAA;AACA,UAAA,gBAAAA,cAAA,IAAA,EAAA;AACA,UAAA,aAAAA,cAAA,IAAA,EAAA;AACA,UAAA,eAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,YAAA,YAAA;AACA,UAAA;AACA,YAAA,MAAA,MAAAC,sBAAA;AACA,mBAAA,QAAA,IAAA;AAAA,MACA,SAAA,KAAA;AACAC,sBAAA,MAAA,MAAA,SAAA,+BAAA,SAAA,GAAA;AAAA,MACA;AAAA,IACA;AAEA,UAAA,eAAA,YAAA;AACA,UAAA;AACA,YAAA,MAAA,MAAAC,yBAAA;AACA,sBAAA,QAAA,IAAA;AAAA,MACA,SAAA,KAAA;AACAD,sBAAA,MAAA,MAAA,SAAA,+BAAA,SAAA,GAAA;AAAA,MACA;AAAA,IACA;AAEA,UAAA,gBAAA,YAAA;AACA,UAAA;AACA,YAAA,MAAA,MAAAE,SAAAA,iBAAA,EAAA,QAAA,KAAA,CAAA;AACA,mBAAA,QAAA,IAAA;AAAA,MACA,SAAA,KAAA;AACAF,sBAAA,MAAA,MAAA,SAAA,gCAAA,SAAA,GAAA;AAAA,MACA;AAAA,IACA;AAEA,UAAA,cAAA,YAAA;AACA,UAAA;AACA,YAAA,MAAA,MAAAG,SAAAA,eAAA,EAAA,QAAA,KAAA,CAAA;AACAH,sBAAAA,MAAA,MAAA,OAAA,gCAAA,GAAA;AACA,qBAAA,QAAA,IAAA;AAAA,MACA,SAAA,KAAA;AACAA,sBAAA,MAAA,MAAA,SAAA,gCAAA,SAAA,GAAA;AAAA,MACA;AAAA,IACA;AAEA,UAAA,YAAA,MAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA;AAAA,MACA,CAAA;AAAA,IACA;AAGAI,kBAAA,kBAAA,CAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,MAEA;AAAA,IACA,CAAA;AAIA,gBAAA;AACA,iBAAA;AACA,cAAA;AACA,kBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvIA,GAAG,WAAW,eAAe;"}